(()=>{"use strict";class t{constructor(t,s,e,i,r){this.id=t,this._title=s,this._description=e,this._priority=i,this.isFinishied="true"===r}get title(){return this._title}set title(t){"string"==typeof t?this._title=t:console.error("Invalid title")}get description(){return this._description}set description(t){"string"==typeof t?this._description=t:console.error("Invalid description")}get priority(){return this._priority}set priority(t){-1<t&&t<6?this._priority=t:console.error("The priority range is out of limits, must be a value between 0 to 5")}getTaskId(){return this.id}getStatus(){return this.isFinishied}toggleTaskStatus(){this.isFinishied=!this.isFinishied}}class s{constructor(t,s,e,i){this.id=t,this._title=s,this._description=e||"default",this.date=null!=i?i:(new Date).toLocaleString(),this.tasks=[],this.idTask=1}getId(){return this.id}get title(){return this._title}set title(t){"string"==typeof t?this._title=t:console.error("Invalid title")}get description(){return this._description}set description(t){"string"==typeof t?this._description=t:console.error("Invalid description")}getDate(){return this.date}addTask(s,e,i,r){this.tasks.push(new t(this.idTask,s,e,i,r)),this.idTask++}getTask(t){return this.tasks.find((s=>s.getTaskId()==t))}getAllTasks(){return this.tasks}removeTask(t){const s=this.tasks.findIndex((s=>s.getTaskId()==t));this.tasks.splice(s,1)}}(new class{constructor(){this.projects=[],this.idCounter=1}newProyect(t,e){this.projects.push(new s(this.idCounter,t,e)),this.idCounter++}getProyect(t){return this.projects.find((s=>s.getId()==t))}getAllProjects(){return this.projects}getTask(t,s){return this.getProyect(t).getTask(s)}addTask(t,s,e,i,r){this.getProyect(t).addTask(s,e,i,r)}changeTaskStatus(t,s){return this.getTask(t,s).toggleTaskStatus()}getTaskStatus(t,s){return this.getTask(t,s).getStatus()}changeTaskPrority(t,s,e){return this.getTask(t,s).priority=e}getTaskPriority(t,s){return this.getTask(t,s).priority}removeProyect(t){const s=this.projects.findIndex((s=>s.getId()==t));this.projects.splice(s,1)}removeTask(t,s){this.getProyect(t).removeTask(s)}getProyectsInfo(){let t="";return this.projects.forEach((s=>{t+=`⁝${s.title}§${s.description}§${s.getDate()}`,s.getAllTasks().forEach((s=>{t+=`¦${s.title}§${s.description}§${s.priority}§${s.getStatus()}`}))})),t.slice(1)}loadProyects(t){t.split(/⁝/).forEach((t=>{const s=t.split(/§|¦/);this.newProyect(s[0],s[1],s[2]);for(let t=3;t<s.length;t+=4)this.addTask(this.idCounter-1,s[t],s[t+1],s[t+2],s[t+3])}))}}).loadProyects(localStorage.getItem("projectList"))})();